<webc-container controller="econsent/TrialParticipantAnswersController">

  <div class="container main-container  stepper-3-rows-grid">

    <div class="container flex-container">
      <breadcrumb-navigator></breadcrumb-navigator>
      <h5 class="generic-title">Questionnaire Answers for: {{@patientName}}</h5>
      <webc-template template="alert" data-view-model="@" class="w-100"></webc-template>
    </div>

    <div class="container justify-content-start">

      <div class="form-row">
        <div class="form-group">
          <div class="questions-tab d-flex">
              <button class="prom-prem-tab-buttons p-2" data-tag="new:prom" active="@promSelected">PROM Answers</button>
              <button class="prom-prem-tab-buttons p-2" data-tag="new:prem" active="@premSelected">PREM Answers</button>
          </div>
        </div>
      </div>

      <div data-if="@pageIsInitialized">
        <webc-spinner slot="false"></webc-spinner>

        <webc-switch slot="true" condition="@currentTable">
          <div slot="proms">

            <div data-if="@hasProms">
              <webc-spinner slot="loading"></webc-spinner>

              <div slot="false" class="alert alert-warning text-center" role="alert">
                <h4 class="alert-heading">No PROMs Answers yet!</h4>
                <p>Wait for participant to answer!</p>
              </div>

              <div class="common-datatable answers-datatable dt-4-col" slot="true">
                <webc-datatable datasource="@PromsDataSource">
                  <div slot="header">Question</div>
                  <div slot="header">Answer</div>
                  <div slot="header">Possible Answers</div>
                  <div slot="header">Date</div>

                  <div class="cell">{{ @question }}</div>
                  <div class="cell">{{ @answer }}</div>
                  <div class="cell">{{ @possibleAnswers }}</div>
                  <div class="cell">{{ @date }}</div>
                </webc-datatable>
              </div>
            </div>
          </div>
          <div slot="prems">
            <div data-if="@hasPrems">
              <webc-spinner slot="loading"></webc-spinner>

              <div slot="false" class="alert alert-warning text-center" role="alert">
                <h4 class="alert-heading">No PREMs Answers yet!</h4>
                <p>Wait for participant to answer!</p>
              </div>

              <div class="common-datatable answers-datatable dt-4-col" slot="true">
                <webc-datatable datasource="@PremsDataSource">
                  <div slot="header">Question</div>
                  <div slot="header">Answer</div>
                  <div slot="header">Possible Answers</div>
                  <div slot="header">Date</div>

                  <div class="cell">{{ @question }}</div>
                  <div class="cell">{{ @answer }}</div>
                  <div class="cell">{{ @possibleAnswers }}</div>
                  <div class="cell">{{ @date }}</div>
                </webc-datatable>
              </div>
            </div>
          </div>
        </webc-switch>
      </div>

    </div>
      <div>
        <p class="m-0">*PROM: Patient Reported Outcome Measures.</p>
        <p class="m-0">*PREM: Patient Reported Experience Measures.</p>
      </div>

  </div>
</webc-container>